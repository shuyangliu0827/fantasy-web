module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},38679,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(50944),e=a.i(72131),f=a.i(71914),g=a.i(68515);function h(){let{lang:a,setLang:h,t:i}=(0,f.useLang)(),j=(0,d.usePathname)(),[k,l]=(0,e.useState)(null);(0,e.useEffect)(()=>{let a=(0,g.getSessionUser)();a&&l({name:a.name,username:a.username})},[]);let m=[{href:"/",label:i("首页","Home")},{href:"/rankings",label:i("球员排名","Rankings")},{href:"/draft-guide",label:i("选秀指南","Draft Guide")},{href:"/cheat-sheet",label:i("备忘单","Cheat Sheet")},{href:"/how-to-play",label:i("新手入门","How To Play")},{href:"/my-team",label:i("我的球队","My Team")},{href:"/mock-draft",label:i("模拟选秀","Mock Draft")}];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("header",{className:"header",children:(0,b.jsxs)("div",{className:"header-inner",children:[(0,b.jsxs)(c.default,{href:"/",className:"logo",children:[(0,b.jsx)("div",{className:"logo-icon",children:(0,b.jsxs)("svg",{viewBox:"0 0 40 40",fill:"none",children:[(0,b.jsx)("circle",{cx:"20",cy:"20",r:"18",stroke:"currentColor",strokeWidth:"2.5"}),(0,b.jsx)("path",{d:"M20 4 C20 4, 8 16, 20 20 C32 24, 20 36, 20 36",stroke:"currentColor",strokeWidth:"2.5",fill:"none"}),(0,b.jsx)("path",{d:"M4 20 H36",stroke:"currentColor",strokeWidth:"2.5"})]})}),(0,b.jsxs)("div",{className:"logo-text",children:[(0,b.jsx)("span",{className:"logo-title",children:i("蓝本","Blueprint")}),(0,b.jsx)("span",{className:"logo-sub",children:i("Fantasy 篮球决策平台","Fantasy Basketball Platform")})]})]}),(0,b.jsxs)("div",{className:"header-actions",children:[(0,b.jsxs)("button",{className:"lang-toggle",onClick:()=>h("zh"===a?"en":"zh"),children:[(0,b.jsx)("span",{className:"zh"===a?"active":"",children:"中"}),(0,b.jsx)("span",{className:"divider",children:"/"}),(0,b.jsx)("span",{className:"en"===a?"active":"",children:"EN"})]}),k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(c.default,{className:"btn btn-ghost",href:`/u/${k.username}`,children:["@",k.username]}),(0,b.jsx)("button",{className:"btn btn-ghost",onClick:()=>{localStorage.removeItem("bp_session"),l(null),window.location.href="/"},children:i("退出","Logout")})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.default,{className:"btn btn-ghost",href:"/auth/login",children:i("登录","Login")}),(0,b.jsx)(c.default,{className:"btn btn-primary",href:"/auth/signup",children:i("注册","Sign Up")})]})]})]})}),(0,b.jsx)("nav",{className:"main-nav",children:(0,b.jsx)("div",{className:"nav-inner",children:m.map(a=>(0,b.jsx)(c.default,{href:a.href,className:`nav-link ${j===a.href?"active":""}`,children:a.label},a.href))})})]})}a.s(["default",()=>h])},67746,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(72131),e=a.i(38679),f=a.i(71914),g=a.i(68515);function h(){let{t:a}=(0,f.useLang)(),[h,i]=(0,d.useState)(null),[j,k]=(0,d.useState)([]),[l,m]=(0,d.useState)(null),[n,o]=(0,d.useState)([]),[p,q]=(0,d.useState)([]),[r,s]=(0,d.useState)(!1),[t,u]=(0,d.useState)(""),[v,w]=(0,d.useState)(""),[x,y]=(0,d.useState)(!1);(0,d.useEffect)(()=>{let a=(0,g.getSessionUser)();if(i(a),a){let a=(0,g.getMyTeams)();k(a),a.length>0&&(m(a[0]),z(a[0]))}q((0,g.getPlayers)())},[]);let z=a=>{o(a.players.map(a=>(0,g.getPlayerById)(a)).filter(Boolean))},A=p.filter(a=>!l?.players.includes(a.id)&&a.name.toLowerCase().includes(t.toLowerCase()));return h?(0,b.jsxs)("div",{className:"app",children:[(0,b.jsx)(e.default,{}),(0,b.jsxs)("main",{className:"page-content",children:[(0,b.jsxs)("div",{className:"page-header",children:[(0,b.jsx)("h1",{className:"page-title",children:a("我的球队","My Team")}),(0,b.jsx)("p",{className:"page-desc",children:a("管理你的 Fantasy 篮球阵容，数据自动保存","Manage your Fantasy basketball roster. Data saves automatically")})]}),(0,b.jsxs)("div",{className:"team-selector",children:[j.map(a=>(0,b.jsx)("button",{className:`team-tab ${l?.id===a.id?"active":""}`,onClick:()=>{m(a),z(a)},children:a.name},a.id)),(0,b.jsxs)("button",{className:"team-tab add",onClick:()=>y(!0),children:["+ ",a("新建球队","New Team")]})]}),x&&(0,b.jsx)("div",{className:"modal-overlay",onClick:()=>y(!1),children:(0,b.jsxs)("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("h3",{children:a("创建新球队","Create New Team")}),(0,b.jsx)("input",{className:"form-input",placeholder:a("球队名称","Team Name"),value:v,onChange:a=>w(a.target.value),style:{marginBottom:16}}),(0,b.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,b.jsx)("button",{className:"btn btn-ghost",onClick:()=>y(!1),children:a("取消","Cancel")}),(0,b.jsx)("button",{className:"btn btn-primary",onClick:()=>{if(!v.trim())return;let a=(0,g.createMyTeam)("default",v);a.ok&&(k([...j,a.team]),m(a.team),o([]),w(""),y(!1))},children:a("创建","Create")})]})]})}),l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"team-header-bar",children:[(0,b.jsx)("h2",{children:l.name}),(0,b.jsxs)("span",{children:[n.length," ",a("名球员","players")]}),(0,b.jsxs)("button",{className:"btn btn-primary",onClick:()=>s(!0),children:["+ ",a("添加球员","Add Player")]})]}),r&&(0,b.jsx)("div",{className:"modal-overlay",onClick:()=>s(!1),children:(0,b.jsxs)("div",{className:"modal-content large",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("h3",{children:a("添加球员","Add Player")}),(0,b.jsx)("input",{className:"form-input",placeholder:a("搜索球员...","Search players..."),value:t,onChange:a=>u(a.target.value),style:{marginBottom:16}}),(0,b.jsx)("div",{className:"player-list",children:A.slice(0,20).map(a=>(0,b.jsxs)("div",{className:"player-list-item",onClick:()=>(a=>{if(!l)return;(0,g.addPlayerToTeam)(l.id,a.id);let b={...l,players:[...l.players,a.id]};m(b),o([...n,a]),k(j.map(a=>a.id===b.id?b:a)),s(!1)})(a),children:[(0,b.jsxs)("span",{className:"player-rank",children:["#",a.rank]}),(0,b.jsx)("span",{className:"player-name",children:a.name}),(0,b.jsxs)("span",{className:"player-info",children:[a.team," · ",a.position]}),(0,b.jsxs)("span",{className:"player-stats",children:[a.ppg," PPG"]})]},a.id))})]})}),0===n.length?(0,b.jsxs)("div",{className:"empty-team",children:[(0,b.jsx)("p",{children:a("球队还没有球员","No players on this team yet")}),(0,b.jsx)("button",{className:"btn btn-primary",onClick:()=>s(!0),children:a("添加第一个球员","Add First Player")})]}):(0,b.jsx)("div",{className:"roster-table",children:(0,b.jsxs)("table",{className:"data-table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:a("排名","Rank")}),(0,b.jsx)("th",{children:a("球员","Player")}),(0,b.jsx)("th",{children:a("位置","Pos")}),(0,b.jsx)("th",{children:a("球队","Team")}),(0,b.jsx)("th",{children:"PPG"}),(0,b.jsx)("th",{children:"RPG"}),(0,b.jsx)("th",{children:"APG"}),(0,b.jsx)("th",{children:a("操作","Action")})]})}),(0,b.jsx)("tbody",{children:n.map(c=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"rank-badge",children:c.rank})}),(0,b.jsx)("td",{className:"player-cell",children:(0,b.jsx)("div",{className:"player-name",children:c.name})}),(0,b.jsx)("td",{children:c.position}),(0,b.jsx)("td",{children:c.team}),(0,b.jsx)("td",{className:"stat-highlight",children:c.ppg}),(0,b.jsx)("td",{children:c.rpg}),(0,b.jsx)("td",{children:c.apg}),(0,b.jsx)("td",{children:(0,b.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>(a=>{if(!l)return;(0,g.removePlayerFromTeam)(l.id,a);let b={...l,players:l.players.filter(b=>b!==a)};m(b),o(n.filter(b=>b.id!==a)),k(j.map(a=>a.id===b.id?b:a))})(c.id),children:a("移除","Remove")})})]},c.id))})]})})]}):(0,b.jsxs)("div",{className:"empty-team",children:[(0,b.jsx)("p",{children:a("你还没有球队，创建一个开始吧！","You don't have any teams yet. Create one to get started!")}),(0,b.jsx)("button",{className:"btn btn-primary",onClick:()=>y(!0),children:a("创建球队","Create Team")})]})]})]}):(0,b.jsxs)("div",{className:"app",children:[(0,b.jsx)(e.default,{}),(0,b.jsxs)("main",{className:"page-content",style:{textAlign:"center",paddingTop:100},children:[(0,b.jsx)("h1",{className:"page-title",children:a("请先登录","Please Login")}),(0,b.jsx)("p",{style:{color:"#64748b",marginBottom:24},children:a("登录后可以管理你的 Fantasy 球队","Login to manage your Fantasy teams")}),(0,b.jsx)(c.default,{href:"/auth/login",className:"btn btn-primary",children:a("登录","Login")})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__64bdfecd._.js.map